// Generated by CoffeeScript 1.6.3
var workBookNav, workChapterNav;

$(function() {
  return null;
});

workBookNav = function() {
  var bkn, bnv, crb;
  crb = $('#curbook');
  bnv = $('#bnav');
  bkn = $($('.bn', crb)[0]);
  bkn.click(function(evt) {
    var dem, ent, inp, it, ix, _i, _len, _ref;
    dem = [];
    _ref = $('option', bnv);
    for (ix = _i = 0, _len = _ref.length; _i < _len; ix = ++_i) {
      ent = _ref[ix];
      it = $(ent);
      dem.push(it.text());
    }
    inp = $('<input style="font: inherit" type="text" />');
    inp.attr('placeholder', bkn.text());
    inp.autocomplete({
      source: dem
    });
    bkn.before(inp);
    return bkn.hide();
  });
  return bnv.parent('form').hide();
};

workChapterNav = function() {
  var chd, chn, chp, crb, sld;
  crb = $('#curbook');
  chd = $('#chapnav');
  chn = $($('.cn', crb)[0]);
  chp = 0;
  sld = chd.slider({
    range: 'min',
    min: 0,
    max: parseInt(chd.attr('chapter-count')) - 1,
    value: parseInt(chd.attr('active-chapter')),
    slide: (function(evt, ui) {
      chp = ui.value;
      return chn.text(chp + 1);
    })
  });
  $('.chap', chd).hide();
  return chn.click(function(evt) {
    return document.location = "?book=" + (chd.attr('active-book')) + "&chapter=" + chp;
  });
};
